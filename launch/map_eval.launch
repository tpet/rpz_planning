<?xml version="1.0" encoding="UTF-8" ?>
<launch>
    <arg name="robot" default="X1"/>
    <arg name="world_name" default="simple_tunnel_02"/>
<!--     <arg name="gt_mesh_file" default="$(find rpz_planning)/data/meshes/simple_tunnel_01_gz.obj"/> -->
    <arg name="gt_mesh_file" default="$(find rpz_planning)/data/meshes/simple_tunnel_02.obj"/>
    <arg name="rviz" default="false"/>

    <!-- Mapping evaluation -->
    <node ns="$(arg robot)" name="map_eval" pkg="rpz_planning" type="map_eval.py" output="screen">
        <rosparam subst_value="true">
            map_topic: map_accumulator/map
            gt_mesh: $(arg gt_mesh_file)
            normalize_mesh_pcl: False
            subscribe_once: False
            do_points_sampling: True
            n_sample_points: 10000
            max_age: 1
            map_frame: $(arg world_name)
            eval_rate: 0.25 <!-- how often do mapping evaluation -->
        </rosparam>
    </node>

    <!-- RVIZ -->
    <node if="$(arg rviz)" name="rviz" pkg="rviz" type="rviz"
          args="-d $(dirname)/../rviz/map_accum.rviz"/>

</launch>
